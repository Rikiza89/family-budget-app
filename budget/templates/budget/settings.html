{% extends 'budget/base.html' %}

{% block title %}è¨­å®š - å®¶è¨ˆç°¿{% endblock %}

{% block content %}
<div class="p-4">
    <h2 class="text-2xl font-bold mb-6">âš™ï¸ è¨­å®š</h2>
    
    <!-- å®¶æ—æƒ…å ± -->
    <div class="bg-white rounded-lg shadow p-4 mb-4">
        <div class="flex items-center justify-between mb-3">
            <h3 class="text-lg font-bold">å®¶æ—æƒ…å ±</h3>
            <a href="{% url 'family_members' %}" class="text-blue-600 text-sm hover:underline">ãƒ¡ãƒ³ãƒãƒ¼ç®¡ç†</a>
        </div>
        <div class="space-y-2">
            <p><strong>å®¶æ—å:</strong> {{ family.name }}</p>
            <p><strong>ãƒ¡ãƒ³ãƒãƒ¼:</strong></p>
            <ul class="ml-4 space-y-1">
                {% for member in family_members %}
                <li>ğŸ‘¤ {{ member.nickname }} ({{ member.user.username }})</li>
                {% endfor %}
            </ul>
        </div>
    </div>
    
    <!-- ã‚«ãƒ†ã‚´ãƒªãƒ¼ç®¡ç† -->
    <div class="bg-white rounded-lg shadow p-4 mb-4">
        <div class="flex items-center justify-between mb-3">
            <h3 class="text-lg font-bold">ã‚«ãƒ†ã‚´ãƒªãƒ¼</h3>
            <a href="{% url 'manage_categories' %}" class="text-blue-600 text-sm hover:underline">ç®¡ç†</a>
        </div>
        
        <div class="space-y-2">
            {% for cat in categories %}
            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                <span>
                    {{ cat.icon }} {{ cat.name }}
                    {% if cat.is_insurance_saving %}
                    <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded ml-2">ç©ç«‹</span>
                    {% endif %}
                </span>
                <span class="text-xs text-gray-500">{{ cat.get_category_type_display }}</span>
            </div>
            {% endfor %}
        </div>
    </div>
    
    <!-- æ”¯æ‰•æ–¹æ³• -->
    <div class="bg-white rounded-lg shadow p-4 mb-4">
        <div class="flex items-center justify-between mb-3">
            <h3 class="text-lg font-bold">æ”¯æ‰•æ–¹æ³•</h3>
            <a href="{% url 'manage_payment_methods' %}" class="text-blue-600 text-sm hover:underline">ç®¡ç†</a>
        </div>
        
        <div class="space-y-2">
            {% for method in payment_methods %}
            <div class="p-3 bg-gray-50 rounded-lg">
                {{ method.name }} ({{ method.get_method_type_display }})
            </div>
            {% endfor %}
        </div>
    </div>
    
    <!-- ä¾¿åˆ©ãƒªãƒ³ã‚¯ -->
    <div class="bg-white rounded-lg shadow p-4 mb-4">
        <h3 class="text-lg font-bold mb-3">ä¾¿åˆ©æ©Ÿèƒ½</h3>
        <div class="space-y-2">
            <a href="{% url 'manage_budgets' %}" class="block p-4 bg-blue-50 rounded-lg hover:bg-blue-100">
                ğŸ¯ äºˆç®—ç®¡ç†
            </a>
            <a href="{% url 'export_data' %}" class="block p-4 bg-green-50 rounded-lg hover:bg-green-100">
                ğŸ“¥ ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
            </a>
        </div>
    </div>
</div>
{% endblock %}